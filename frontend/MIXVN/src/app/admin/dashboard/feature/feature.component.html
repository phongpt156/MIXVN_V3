<form class="p-5">
  <fieldset>
    <legend>
      Manage Feature
    </legend>
    <div>
      <div class="text-right">
        <button mat-raised-button color="accent" (click)="openAddFeatureDialog()" type="button">Add Feature</button>
      </div>
      <div class="mt-3 table-wrapper">
        <table class="table table-dark table-hover">
          <thead>
            <tr>
              <th><h3>STT</h3></th>
              <th><h3>Name</h3></th>
              <th><h3>Order</h3></th>
              <th><h3>Active</h3></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <ng-container *ngFor="let feature of features; let i = index">
              <tr (click)="listCollapsed[feature.id] = !listCollapsed[feature.id]" style="cursor: pointer">
                <td><h4>{{ i + 1 }}</h4></td>
                <td><h4>{{ feature.name }}</h4></td>
                <td><h4>{{ feature.order }}</h4></td>
                <td>
                  <mat-checkbox [checked]="feature.active" readonly="readonly" click-prevent-default></mat-checkbox>
                </td>
                <td class="d-flex flex-row">
                  <a (click)="openEditFeatureDialog($event, feature)"><i class="tex-white">mode_edit</i></a>
                  <a (click)="openDeleteFeatureDialog($event, feature.id)"><i>delete_forever</i></a>
                </td>
              </tr>
              <tr [collapse]="listCollapsed[feature.id]" class="bg-custom">
                <td>Vn Name</td>
                <td>Dev Name</td>
                <td>Order</td>
                <td>Active</td>
                <td>
                  <a (click)="openAddFeatureValueDialog(feature)"><i>add_circle</i></a>
                </td>
              </tr>
              <tr *ngFor="let featureValue of feature.feature_values" [collapse]="listCollapsed[feature.id]" class="bg-custom">
                <td>{{ featureValue.vi_name }}</td>
                <td>{{ featureValue.dev_name }}</td>
                <td>{{ featureValue.order }}</td>
                <td>
                  <mat-checkbox [checked]="featureValue.active" readonly="readonly" click-prevent-default></mat-checkbox>
                </td>
                <td>
                  <a (click)="openEditFeatureValueDialog(featureValue)"><i>mode_edit</i></a>
                  <a (click)="openDeleteFeatureValueDialog(featureValue.id)"><i>delete_forever</i></a>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </fieldset>
</form>
